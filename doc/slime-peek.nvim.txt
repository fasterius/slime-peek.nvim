 *slime-peek.nvim.txt*          Peek at data frames and objects with vim-slime

==============================================================================

 Table of contents                             *slime-peek.table-of-contents*

 1. Introduction 	                           |slime-peek.introduction|
 2. Requirements                                   |slime-peek.requirements|
 3. Usage		                                  |slime-peek.usage|
 4. Configuration                                 |slime-peek.configuration|
 5. Commands		                               |slime-peek.commands|
 6. Keymaps                                             |slime-peek.keymaps|

==============================================================================

 1. INTRODUCTION      				    *slime-peek.introduction*

 The aim of this plugin is to add convenience functions for data exploration
 tasks when using `vim-slime` with Python and R, such as quickly peeking at
 the head or column names of a data frame.

 The plugin will automatically detect which of the supported languages are
 currently in use in your document, whether that be Python or R scripts, R
 Markdown or Quarto documents.

 For scripts and R Markdown documents, the language is inferred by the file
 type, as those documents are only used with their respective programming
 language.

 For Quarto documents, `slime-peek` will check the current code chunk's
 language by default, with an option to instead use the language specified in
 the YAML header of the document (using either `engine:`, `knitr:` or
 `jupyter:`).

==============================================================================

 2. REQUIREMENTS                                    *slime-peek.requirements*

 This plugin assumes you have `vim-slime` configured and a running REPL in
 e.g. a Tmux pane or a Neovim terminal; `slime-peek` only constructs and sends
 commands, it does not manage the REPL itself.

==============================================================================

 3. USAGE      						   *slime-peek.usage*

 The `slime-peek` plugin supplies several operations, each with two variants:
 one that uses the word under the cursor, and one that uses Vim's
 operator-pending mode (a motion or text object) to select the text. Each
 word-based operation is named e.g. `peek_head`, while its motion equivalent
 is named `peek_head_motion`. The motion variants will enter operator-pending
 mode and wait for the user to supply a motion or a text object before sending
 the final text to the REPL.

 For R, operations like `peek_head` translate to commands such as
 `head(<text>)`. For Python, they are translated to attribute or method
 accesses such as `<text>.head()`; see each function for details.

 peek_head                                            *slime-peek.peek_head*
 peek_head_motion                              *slime-peek.peek_head_motion*

   Send the "head" operation with some text to the REPL.

   R:      `head(<text>)`
   Python: `<text>.head()`

 peek_tail                                            *slime-peek.peek_tail*
 peek_tail_motion                              *slime-peek.peek_tail_motion*

   Send the "tail" operation with some text to the REPL.

   R:      `tail(<text>)`
   Python: `<text>.tail()`

 peek_names                                          *slime-peek.peek_names*
 peek_names_motion                            *slime-peek.peek_names_motion*

   Send the "column names" operation with some text to the REPL.

   R:      `names(<text>)`
   Python: `<text>.columns.tolist()`

 peek_dims                                            *slime-peek.peek_dims*
 peek_dims_motion                              *slime-peek.peek_dims_motion*

   Send the "object dimensions" operation with some text to the REPL.

   R:      `dim(<text>)`
   Python: `<text>.shape`

 peek_types                                          *slime-peek.peek_types*
 peek_types_motion                            *slime-peek.peek_types_motion*

   Send the "data types/classes" operation with some text to the REPL.

   R:      `sapply(<text>, class)`
   Python: `<text>.dtypes`

 peek_help                                            *slime-peek.peek_help*
 peek_help_motion                              *slime-peek.peek_help_motion*

   Send the "help" operation with some text to the REPL.

   R:      `help(<text>)`
   Python: `help(<text>)`

   The output of this may be paginated depending on your terminal settings, so
   you might also need to either move to the REPL and press `q` to exit the
   pagination or create an additional keymap to send `q` to the REPL.

==============================================================================

 4. CONFIGURATION      				   *slime-peek.configuration*

 use_yaml_language (default: `false`)           *slime-peek.use_yaml_language*

   Use the Quarto YAML header for language detection instead of using the
   current code chunk's language. This is useful if you want to specify Quarto
   languages in a document-wide manner, rather than per code chunk.

==============================================================================

 5. COMMANDS 					        *slime-peek.commands*

 The following user-commands correspond directly to the Lua functions
 described in |slime-peek.usage|. The Lua functions are the recommended
 interface for most cases, especially keymaps, but these commands are useful
 for experimentation and learning.

 :PeekHead    			                       *slime-peek.PeekHead*
 :PeekHeadMotion                                 *slime-peek.PeekHeadMotion*
   Equivalent to |slime-peek.peek_head| and |slime-peek.peek_head_motion|.

 :PeekTail    		 	                       *slime-peek.PeekTail*
 :PeekTailMotion                                 *slime-peek.PeekTailMotion*
   Equivalent to |slime-peek.peek_tail| and |slime-peek.peek_tail_motion|.

 :PeekNames                                           *slime-peek.PeekNames*
 :PeekNamesMotion                               *slime-peek.PeekNamesMotion*
   Equivalent to |slime-peek.peek_names| and |slime-peek.peek_names_motion|.

 :PeekDims                                             *slime-peek.PeekDims*
 :PeekDimsMotion                                 *slime-peek.PeekDimsMotion*
   Equivalent to |slime-peek.peek_dims| and |slime-peek.peek_dims_motion|.

 :PeekTypes                                           *slime-peek.PeekTypes*
 :PeekTypesMotion                               *slime-peek.PeekTypesMotion*
   Equivalent to |slime-peek.peek_types| and |slime-peek.peek_types_motion|.

 :PeekHelp                                             *slime-peek.PeekHelp*
 :PeekHelpMotion                                 *slime-peek.PeekHelpMotion*
   Equivalent to |slime-peek.peek_help| and |slime-peek.peek_help_motion|.

==============================================================================

 6. KEYMAPS 					         *slime-peek.keymaps*

 This plugin does not export any key mappings, but exposes Lua functions
 (|slime-peek.usage|) and user-commands (|slime-peek.commands|), which you can
 map yourself. For example:
>lua
     -- Lua functions
     local peek = require("slime_peek")
     vim.keymap.set('n', '<localleader>h', peek.peek_head)
     vim.keymap.set('n', '<localleader>mh', peek.peek_head_motion)
     -- User-commands
     vim.keymap.set('n', '<localleader>h', ':PeekHead<CR>')
     vim.keymap.set('n', '<localleader>mh', ':PeekHeadMotion<CR>')
<
 vim:tw=78:ts=8:noet:ft=help:norl:
